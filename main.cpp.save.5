/***************************************************************************
* PROGRAMMED BY : Ahmer Yasin & Seth Just & Thokozile Hambayi
* CLASS         : CS1B
* SECTION       : TTh 1:30pm
* MODULE        : 1
* GROUP LAB     : 1
* PROGRAM NAME  : Linear Search
* PURPOSE       : The program performs a linear search over a list of book titles
* DUE DATE      : 09/04/2025
****************************************************************************/

#include "linear_search_header.h"


int main()
{
	// Constants


	// Variables
	string         headingString;      // OUT - class heading
	string         endOfProgramString; // OUT - end of program statement
	string		   topBotString;
	char           choiceInput;
	bool           invalidChoice;
	bool			   quit;
	vector<string> bookTitlesVecList;
	bookTitlesVecList.reserve(100);
	vector<string> bookTitlesVecListLowerCase;
	bookTitlesVecListLowerCase.reserve(100);
	string         title;
	char           titleChar;
	string			searchInput;


	// Class heading banner
	headingString = OutputClassHeading();
	cout << headingString;

	// Titles
	bookTitlesVecList = {"Star Wars",
								"The Empire Strikes Back (Star Wars)",
								"Splinter of the Mind's Eye (Star Wars)",
								"Return of the Jedi (Star Wars)",
								"Heir to the Empire (Star Wars: The Thrawn Trilogy, Vol. 1)",
								"Dark Force Rising (Star Wars: The Thrawn Trilogy, Vol. 2)",
								"The Last Command (Star Wars: The Thrawn Trilogy)",
								"Specter of the Past (Star Wars: The Hand of Thrawn #1)",
								"Vision of the Future (Star Wars: The Hand of Thrawn, Book 2)",
								"Battlestar Galactica",
								"New Battlestar Galactica Volume 1 (Battlestar Galactica (Dynamite)) (v. 1)",
								"New Battlestar Galactica Volume II Hardcover (Battlestar Galactica (Dynamite))",
								"The Hobbit",
								"The Lord of the Rings: 50th Anniversary, One Vol. Edition",
								"The Two Towers",
								"The Return of the King",
								"The Fellowship of the Ring",
								"C++ Programming: From Problem Analysis to Program Design 7th Edition",
								"Digital Computer Electronics",
								"Assembly Language for x86 Processors (7th Edition)"};


	// Titles which start with the words containing "The" or "A" or "An" are erased and inserted to end of the string of the title.
	// For example:
	// "The Return of the King"   is changed to  "Return of the King, The"
	// "An American Tragedy"      is changed to  "American Tragedy, An"
	// "A Brief History of Time"  is changed to  "Brief History of Time, A"
	AACR2TitleFormatVector(bookTitlesVecList);


	// Sorts lists in alphabetical order
	sort(bookTitlesVecList.begin(), bookTitlesVecList.end());

	// Copies the book titles and changes all characters to lower case characters to a new vector
	for (int indexVec = 0; indexVec < int(bookTitlesVecList.size()); indexVec += 1)
	{
		title = bookTitlesVecList[indexVec];

		for(int indexStr = 0; indexStr < int(bookTitlesVecList[indexVec].size()); indexStr += 1)
		{
			titleChar       = tolower( bookTitlesVecList[indexVec][indexStr] );
			title[indexStr] = titleChar;
		}

		bookTitlesVecListLowerCase.push_back(title);
	}




	for(int index = 0; index < int(bookTitlesVecListLowerCase.size()); index += 1)
	{
		cout << bookTitlesVecListLowerCase[index] << endl;
	}

	for(int index = 0; index < int(bookTitlesVecList.size()); index += 1)
	{
		cout << bookTitlesVecList[index] << endl;
	}




	// String of line of characters for menu border
	topBotString = OutputStringOfCharacter(37);

	// Menu display
	cout << topBotString << endl
		  << "*" << left  << setw(11) << " " << "Linear Search" << setw(11) << " " << "*" << endl
		  << topBotString << endl
		  << "*" << " <S>earch" << setw(26) << " " << "*" << endl
		  << "*" << " <Q>uit"   << setw(28) << " " << "*" << endl
		  << topBotString << endl;
	quit = true;
	invalidChoice = true;
	do
	{
		do
		{
			cout << setw(6) << "Choice: ";
   		cin.get(choiceInput);
			choiceInput = toupper(choiceInput);

			invalidChoice = (choiceInput != 'S' && choiceInput != 'Q');

			if (invalidChoice)
			{
				cout << "Invalid choice. Please enter \"S\" to search or \"Q\" to quit." << endl;
				invalidChoice = false;
			}

			cin.ignore(10000,'\n');

		} while (invalidChoice);


		if(choiceInput == 'S')
		{
			cout << setw(6) << "Search: ";
			getline(cin, searchInput);
			cout << searchInput;
		}

	quit = (choiceInput != 'Q');
	} while (quit);

	
	//End of Program Statement
	endOfProgramString = EndOfProgramBanner();
	cout << endOfProgramString  << endl << endl;
	return 0;
}
